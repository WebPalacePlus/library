"use strict";

document.addEventListener("DOMContentLoaded", () => {
    const toggleMenuBtn = document.querySelector(".toggle_menu");
    const verticalNav = document.querySelector(".vertical_nav");
    const menuItems = document.querySelectorAll(".menu--item__has_sub_menu");

    // Toggle menu for mobile
    toggleMenuBtn.addEventListener("click", () => {
        verticalNav.classList.toggle("vertical_nav__opened");
    });

    // Toggle submenu items
    menuItems.forEach((item) => {
        item.addEventListener("click", (e) => {
            e.preventDefault();
            // Close other submenus
            menuItems.forEach((other) => {
                if (other !== item) {
                    other.classList.remove("menu--subitens__opened");
                }
            });
            item.classList.toggle("menu--subitens__opened");
        });
    });

    // Collapse menu on click
    document
        .querySelector(".collapse_menu")
        ?.addEventListener("click", () => {
            verticalNav.classList.toggle("vertical_nav__minify");
            document.body.classList.toggle("wrapper__minify");
        });
});
